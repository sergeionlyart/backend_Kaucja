run:
  run_id: "auto"
  dry_run: false
  artifact_dir: "./artifacts"
  concurrency: 4
  http:
    user_agent: "LegalRAG-Ingest/0.1"
    timeout_seconds: 60
    max_retries: 4
    retry_backoff_seconds: 2.0

mongo:
  uri: "mongodb://localhost:27017"
  db: "legal_rag"
  write_concern: "majority"

parsers:
  pdf:
    engine: "pymupdf"
    min_avg_chars_per_page: 200
    max_empty_page_ratio: 0.30
  html:
    engine: "bs4"
    max_tokens_per_virtual_page: 1200
    min_heading_to_split: 2

ocr:
  enabled: true
  provider: "mistral"
  endpoint: "https://api.mistral.ai/v1/ocr"
  api_key_env: "MISTRAL_API_KEY"
  model: "mistral-ocr-2512"
  table_format: "markdown"
  include_image_base64: false
  extract_header: false
  extract_footer: false

sources:
  # Poland - ELI
  - source_id: "pl_eli_du_2001_733"
    url: "https://eli.gov.pl/api/acts/DU/2001/733/text/O/D20010733.pdf"
    fetch_strategy: "direct"
    doc_type_hint: "STATUTE"
    jurisdiction: "PL"
    language: "pl"
    external_ids:
      eli: "DU/2001/733"

  # Poland - SN
  - source_id: "pl_sn_V_CSK_480-18_html"
    url: "https://www.sn.pl/sites/orzecznictwo/OrzeczeniaHTML/v%20csk%20480-18-1.docx.html"
    fetch_strategy: "direct"
    doc_type_hint: "CASELAW"
    jurisdiction: "PL"
    language: "pl"
    external_ids:
      sn_signature: "V CSK 480/18"

  # EU - EUR-Lex
  - source_id: "eu_eurlex_dir_1993_13"
    url: "https://eur-lex.europa.eu/eli/dir/1993/13/oj/eng"
    fetch_strategy: "direct"
    doc_type_hint: "EU_ACT"
    jurisdiction: "EU"
    language: "en"
    external_ids:
      eli: "dir/1993/13/oj/eng"

  # Poland - SAOS Judgment
  - source_id: "pl_saos_171957"
    url: "https://www.saos.org.pl/judgments/171957"
    fetch_strategy: "saos_judgment"
    external_ids: { "saos_id": "171957" }
    doc_type_hint: "CASELAW"
    jurisdiction: "PL"
    language: "pl"

  # Poland - LEX restricted test wrapper
  - source_id: "pl_lex_kc_art_118"
    url: "https://sip.lex.pl/akty-prawne/dzu-dziennik-ustaw/kodeks-cywilny-16785996/art-118"
    fetch_strategy: "direct"
    doc_type_hint: "STATUTE_REF"
    jurisdiction: "PL"
    language: "pl"
    license_tag: "COMMERCIAL"
